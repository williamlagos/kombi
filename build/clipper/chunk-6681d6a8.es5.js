var __awaiter=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))(function(i,c){function a(e){try{s(r.next(e))}catch(e){c(e)}}function o(e){try{s(r.throw(e))}catch(e){c(e)}}function s(e){e.done?i(e.value):new t(function(n){n(e.value)}).then(a,o)}s((r=r.apply(e,n||[])).next())})},__generator=this&&this.__generator||function(e,n){var t,r,i,c,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(c){return function(o){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){a=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(6===c[0]&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=n.call(e,a)}catch(e){c=[6,e],r=0}finally{t=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,o])}}};clipper.loadBundle("chunk-6681d6a8.js",["exports","./chunk-e3707dbd.js"],function(e,n){var t=this,r=(window,"localhost"===(window&&window.location&&window.location.hostname)?"http://localhost:3000":"https://api.shipping.net");e.showMyOrders=function(e){return function(i,c){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(c){switch(c.label){case 0:return n.Backend.setDomain(r),[4,n.Backend.getOrders({xAccessToken:e})];case 1:return[4,c.sent().json()];case 2:return t=c.sent(),[2,i({type:n.TypeKeys.MERCHANT_ORDERS,orders:t})]}})})}},e.cancelOrder=function(e,i){return function(c,a){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n.Backend.setDomain(r),[4,n.Backend.cancelOrder({xAccessToken:i,id:e})];case 1:return t.sent(),[2,c({type:n.TypeKeys.CANCEL_ORDER})]}})})}},e.rateOrder=function(e,i,c){return function(a,o){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n.Backend.setDomain(r),[4,n.Backend.rateOrder({xAccessToken:c,id:e,rate:i})];case 1:return t.sent(),[2,a({type:n.TypeKeys.RATE_ORDER})]}})})}},e.finishOrder=function(e,i){return function(c,a){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n.Backend.setDomain(r),[4,n.Backend.finishOrder({xAccessToken:i,id:e})];case 1:return t.sent(),[2,c({type:n.TypeKeys.FINISH_ORDER})]}})})}},e.showOrder=function(e){return function(i,c){return __awaiter(t,void 0,void 0,function(){var t,c,a,o,s,u,d,l,f=this;return __generator(this,function(_){switch(_.label){case 0:return n.Backend.setDomain(r),t=e.split(".")[1],c=t.replace(/-/g,"+").replace(/_/g,"/"),a=JSON.parse(window.atob(c))._id,[4,n.Backend.getReadyOrders({xAccessToken:e})];case 1:return[4,_.sent().json()];case 2:return o=_.sent(),s=o.map(function(e){return e.pictures}).flat(),[4,n.Backend.getPictures({xAccessToken:e,ids:s.flat()})];case 3:return[4,_.sent().json()];case 4:return u=_.sent(),d=o.map(function(t){return __awaiter(f,void 0,void 0,function(){var r,i,c,o;return __generator(this,function(s){switch(s.label){case 0:return t.bids.length>0?[4,n.Backend.getOrderBids({xAccessToken:e,order:t._id})]:[3,3];case 1:return[4,s.sent().json()];case 2:r=s.sent(),i=r.filter(function(e){return a===e.user._id}),t.placed=i.length>0,s.label=3;case 3:for(c=0;c<u.length;c++)-1!==(o=t.pictures.indexOf(u[c]._id))&&(t.pictures[o]=u[c]);return[2,t]}})})}),[4,Promise.all(d)];case 5:return l=_.sent(),[2,i({type:n.TypeKeys.SHOW_ORDER,orders:l})]}})})}},e.selectOrder=function(e,i){return function(c,a){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n.Backend.setDomain(r),[4,n.Backend.acceptOrder({xAccessToken:i,id:e})];case 1:return t.sent(),[2,c({type:n.TypeKeys.SELECT_ORDER})]}})})}},e.startOrder=function(e,i){return function(c,a){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n.Backend.setDomain(r),[4,n.Backend.startOrder({xAccessToken:i,id:e})];case 1:return t.sent(),[2,c({type:n.TypeKeys.START_ORDER})]}})})}},e.placeOrder=function(e,i,c){return function(a,o){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n.Backend.setDomain(r),[4,n.Backend.placeBid({xAccessToken:c,bid:e,order:i})];case 1:return[4,t.sent()];case 2:return t.sent(),[2,a({type:n.TypeKeys.PLACE_ORDER,orderId:i})]}})})}}});