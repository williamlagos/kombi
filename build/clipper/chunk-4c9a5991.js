import{a,b as e}from"./chunk-1c3f1b74.js";const s="localhost"===(window&&window.location&&window.location.hostname)?"http://localhost:3000":"https://api.shipping.net",t=t=>async(i,n)=>{a.setDomain(s);const c=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),o=JSON.parse(window.atob(c))._id,r=await(await a.getReadyOrders({xAccessToken:t})).json(),d=r.map(a=>a.pictures).flat(),p=await(await a.getPictures({xAccessToken:t,ids:d.flat()})).json(),w=r.map(async e=>{if(e.bids.length>0){const s=(await(await a.getOrderBids({xAccessToken:t,order:e._id})).json()).filter(a=>o===a.user._id);e.placed=s.length>0}for(let a=0;a<p.length;a++){const s=e.pictures.indexOf(p[a]._id);-1!==s&&(e.pictures[s]=p[a])}return e}),l=await Promise.all(w);return i({type:e.SHOW_ORDER,orders:l})},i=t=>async(i,n)=>{a.setDomain(s);const c=await(await a.getOrders({xAccessToken:t})).json();return i({type:e.MERCHANT_ORDERS,orders:c})},n=(t,i)=>async(n,c)=>(a.setDomain(s),await a.acceptOrder({xAccessToken:i,id:t}),n({type:e.SELECT_ORDER})),c=(t,i,n)=>async(c,o)=>(a.setDomain(s),await(await a.placeBid({xAccessToken:n,bid:t,order:i})),c({type:e.PLACE_ORDER,orderId:i})),o=(t,i,n)=>async(c,o)=>(a.setDomain(s),await a.rateOrder({xAccessToken:n,id:t,rate:i}),c({type:e.RATE_ORDER})),r=(t,i)=>async(n,c)=>(a.setDomain(s),await a.startOrder({xAccessToken:i,id:t}),n({type:e.START_ORDER})),d=(t,i)=>async(n,c)=>(a.setDomain(s),await a.finishOrder({xAccessToken:i,id:t}),n({type:e.FINISH_ORDER})),p=(t,i)=>async(n,c)=>(a.setDomain(s),await a.cancelOrder({xAccessToken:i,id:t}),n({type:e.CANCEL_ORDER}));export{i as a,p as b,o as c,d,t as e,n as f,r as g,c as h};