import{a as e,b as a}from"./chunk-c46efb37.js";const s="localhost"===(window&&window.location&&window.location.hostname)?"http://localhost:3000":"https://api.shipping.net",t=t=>async(i,n)=>{e.setDomain(s);const c=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),o=JSON.parse(window.atob(c))._id,r=await(await e.getReadyOrders({xAccessToken:t})).json(),d=r.map(e=>e.pictures).flat(),p=await(await e.getPictures({xAccessToken:t,ids:d.flat()})).json(),w=r.map(async a=>{if(a.bids.length>0){const s=(await(await e.getOrderBids({xAccessToken:t,order:a._id})).json()).filter(e=>o===e.user._id);a.placed=s.length>0}for(let e=0;e<p.length;e++){const s=a.pictures.indexOf(p[e]._id);-1!==s&&(a.pictures[s]=p[e])}return a}),l=await Promise.all(w);return i({type:a.SHOW_ORDER,orders:l})},i=t=>async(i,n)=>{e.setDomain(s);const c=await(await e.getOrders({xAccessToken:t})).json();return i({type:a.MERCHANT_ORDERS,orders:c})},n=(t,i)=>async(n,c)=>(e.setDomain(s),await e.acceptOrder({xAccessToken:i,id:t}),n({type:a.SELECT_ORDER})),c=(t,i,n)=>async(c,o)=>(e.setDomain(s),await(await e.placeBid({xAccessToken:n,bid:t,order:i})),c({type:a.PLACE_ORDER,orderId:i})),o=(t,i,n)=>async(c,o)=>(e.setDomain(s),await e.rateOrder({xAccessToken:n,id:t,rate:i}),c({type:a.RATE_ORDER})),r=(t,i)=>async(n,c)=>(e.setDomain(s),await e.startOrder({xAccessToken:i,id:t}),n({type:a.START_ORDER})),d=(t,i)=>async(n,c)=>(e.setDomain(s),await e.finishOrder({xAccessToken:i,id:t}),n({type:a.FINISH_ORDER})),p=(t,i)=>async(n,c)=>(e.setDomain(s),await e.cancelOrder({xAccessToken:i,id:t}),n({type:a.CANCEL_ORDER}));export{i as a,p as b,o as c,d,t as e,n as f,r as g,c as h};