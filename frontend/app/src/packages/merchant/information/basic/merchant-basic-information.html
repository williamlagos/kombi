<!-- View header -->
<ion-header>
    <ion-navbar color="secondary">
        <!-- View title -->
        <ion-title>
            <mars-translatable content="profile"></mars-translatable>
        </ion-title>
    </ion-navbar>
</ion-header>
<!-- View content -->
<ion-content #content text-center>
    <!-- Signup progress bar -->
    <mars-signup-progress></mars-signup-progress>
    <form user-info max-width-container #form="ngForm">
        <!-- Welcome message -->
        <section margin-top *ngIf="!authService.isLoggedIn()">
            <span tip>
                <span hello>
                    <mars-translatable content="hello"></mars-translatable>!
                </span>
                <mars-translatable content="please_input_your_data_below"></mars-translatable>
            </span>
        </section>
        <!-- User name -->
        <ion-item>
            <ion-label floating>
                <mars-translatable content="your_name"></mars-translatable>
            </ion-label>
            <ion-input autocomplete="off" autocorrect="on" id="user-name" name="name" [(ngModel)]="user.name" required></ion-input>
        </ion-item>
        <!-- User e-mail -->
        <ion-item>
            <ion-label floating>
                <mars-translatable content="your_email"></mars-translatable>
            </ion-label>
            <ion-input autocomplete="on" autocorrect="on" name="email" [(ngModel)]="user.email" type="email" required></ion-input>
        </ion-item>
        <p validation-warn [ngClass]="{ 'show': user.email && !user.email.isValidEmail() }">
            <mars-translatable content="invalid_email_message"></mars-translatable>
        </p>
        <section *ngIf="!authService.isLoggedIn()">
            <!-- User password -->
            <ion-item>
                <ion-label floating>
                    <mars-translatable content="your_password"></mars-translatable>
                </ion-label>
                <ion-input autocomplete="on" autocorrect="on" name="password" [(ngModel)]="user.password" type="password" required></ion-input>
            </ion-item>
            <!-- User password confirmation -->
            <ion-item>
                <ion-label floating>
                    <mars-translatable content="password_confirmation"></mars-translatable>
                </ion-label>
                <ion-input autocomplete="on" autocorrect="on" name="passwordConfirmation" [(ngModel)]="user.passwordConfirmation" type="password"
                    required></ion-input>
            </ion-item>
            <p validation-warn [ngClass]="{ 'show': user.password && user.passwordConfirmation && (user.password != user.passwordConfirmation ) }">
                <mars-translatable content="wrong_password_confirmation_message"></mars-translatable>
            </p>
        </section>
        <!-- Accept terms of use -->
        <ion-item no-border class="terms-acceptance" *ngIf="!authService.isLoggedIn()">
            <ion-label>
                <input type="checkbox" name="acceptedTerms" color="balanced" [(ngModel)]="user.acceptedTerms">
                <label>
                    <mars-translatable content="i_declare_to_have_read_and_agree_with_the"></mars-translatable>
                    <a (click)="navigationService.goTo('TermsOfUsePage')">
                        <mars-translatable content="application_terms_of_use"></mars-translatable>
                    </a>.
                </label>
            </ion-label>
        </ion-item>
        <!-- Cancel signup process -->
        <button ion-button *ngIf="!authService.finishedSignup()" icon round large margin-top color="danger" (click)="goBack()">
            <ion-icon name="close"> </ion-icon>
        </button>
        <!-- Continue with signup -->
        <button ion-button icon round large margin-top color="balanced" [disabled]="disableNextFor(form)" (click)="save()">
            <ion-icon name="checkmark"> </ion-icon>
        </button>
    </form>
</ion-content>
<!-- <ion-item>
<ion-label>
<mars-translatable content="who_are_you"></mars-translatable>:
</ion-label>
<ion-select name="merchantType" [(ngModel)]="user.merchantType" required>
<ion-option value="SERVICE_PROVIDER">
<mars-translatable content="service_provider"></mars-translatable>
</ion-option>
<ion-option value="ESTABLISHMENT">
<mars-translatable content="establishment"></mars-translatable>
</ion-option>
</ion-select>
</ion-item> -->