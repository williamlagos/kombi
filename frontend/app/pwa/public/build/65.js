webpackJsonp([65],{402:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"UserOptionsMenuModuleNgFactory",function(){return O});var r=n(0),i=n(494),a=n(306),o=n(307),l=n(308),s=n(309),c=n(310),u=n(311),d=n(312),f=n(313),h=n(314),p=n(315),m=n(497),v=n(12),g=n(16),b=n(191),y=n(194),_=n(118),R=n(119),k=n(192),C=n(193),w=(n.n(C),n(189)),M=n(61),D=n(487),O=r["ɵcmf"](i.a,[],function(e){return r["ɵmod"]([r["ɵmpd"](512,r.ComponentFactoryResolver,r["ɵCodegenComponentFactoryResolver"],[[8,[a.a,o.a,l.a,s.a,c.a,u.a,d.a,f.a,h.a,p.a,m.a]],[3,r.ComponentFactoryResolver],r.NgModuleRef]),r["ɵmpd"](4608,v.NgLocalization,v.NgLocaleLocalization,[r.LOCALE_ID,[2,v["ɵangular_packages_common_common_a"]]]),r["ɵmpd"](4608,g["ɵangular_packages_forms_forms_i"],g["ɵangular_packages_forms_forms_i"],[]),r["ɵmpd"](4608,g.FormBuilder,g.FormBuilder,[]),r["ɵmpd"](5120,b.g,b.f,[b.a,b.d]),r["ɵmpd"](1073742336,v.CommonModule,v.CommonModule,[]),r["ɵmpd"](1073742336,g["ɵangular_packages_forms_forms_bb"],g["ɵangular_packages_forms_forms_bb"],[]),r["ɵmpd"](1073742336,g.FormsModule,g.FormsModule,[]),r["ɵmpd"](1073742336,g.ReactiveFormsModule,g.ReactiveFormsModule,[]),r["ɵmpd"](1073742336,y.a,y.a,[]),r["ɵmpd"](1073742336,y.b,y.b,[]),r["ɵmpd"](1073742336,_.a,_.a,[]),r["ɵmpd"](1073742336,R.a,R.a,[]),r["ɵmpd"](1073742336,k.a,k.a,[]),r["ɵmpd"](1073742336,C.CurrencyMaskModule,C.CurrencyMaskModule,[]),r["ɵmpd"](1073742336,b.e,b.e,[]),r["ɵmpd"](1073742336,w.a,w.a,[]),r["ɵmpd"](1073742336,i.a,i.a,[]),r["ɵmpd"](256,b.d,void 0,[]),r["ɵmpd"](256,b.a,b.h,[]),r["ɵmpd"](256,M.a,D.a,[])])})},487:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),i=n(13),a=n(19),o=n(36),l=n(56),s=n(123),c=n(37),u=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,l)}s((r=r.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){function n(n){return function(o){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,i=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(a=l.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){l.label=n[1];break}if(6===n[0]&&l.label<a[1]){l.label=a[1],a=n;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(n);break}a[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],i=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}var r,i,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},p=function(){function e(e,t,n,r,i,a,o){this.viewCtrl=e,this.navParams=t,this.zone=n,this.changeDetector=r,this.locales=i,this.globals=a,this.interactionService=o,this.roles=["ADMIN","MERCHANT","CUSTOMER"],this.translations=i.load(),this.user=t.data.user,this.token=c.a.getMarsToken()}return e.prototype.saveRole=function(e){return f(this,void 0,void 0,function(){var t=this;return h(this,function(n){return this.zone.run(function(){return f(t,void 0,void 0,function(){return h(this,function(t){switch(t.label){case 0:this.spinner=this.interactionService.spinner({content:this.translations.loading}),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,s.a.changeUserRole({id:e._id,role:e.roles,xAccessToken:this.token})];case 2:return t.sent(),[3,5];case 3:return t.sent(),this.interactionService.alert(this.translations.server_failure),[3,5];case 4:return this.spinner.dismiss(),this.changeDetector.detectChanges(),this.close(),[7];case 5:return[2]}})})}),[2]})})},e.prototype.deactivate=function(e){return f(this,void 0,void 0,function(){var t=this;return h(this,function(n){return this.zone.run(function(){return f(t,void 0,void 0,function(){return h(this,function(t){switch(t.label){case 0:this.spinner=this.interactionService.spinner({content:this.translations.loading}),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,s.a.deactivateUserAsAdmin({id:e._id,xAccessToken:this.token})];case 2:return t.sent(),[3,5];case 3:return t.sent(),this.interactionService.alert(this.translations.server_failure),[3,5];case 4:return this.spinner.dismiss(),this.changeDetector.detectChanges(),this.close(),[7];case 5:return[2]}})})}),[2]})})},e.prototype.activate=function(e){return f(this,void 0,void 0,function(){var t=this;return h(this,function(n){return this.zone.run(function(){return f(t,void 0,void 0,function(){return h(this,function(t){switch(t.label){case 0:this.spinner=this.interactionService.spinner({content:this.translations.loading}),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,s.a.activateUserAsAdmin({id:e._id,xAccessToken:this.token})];case 2:return t.sent(),[3,5];case 3:return t.sent(),this.interactionService.alert(this.translations.server_failure),[3,5];case 4:return this.spinner.dismiss(),this.changeDetector.detectChanges(),this.close(),[7];case 5:return[2]}})})}),[2]})})},e.prototype.close=function(e){this.viewCtrl.dismiss(e)},e=u([Object(r.Component)({selector:"user-options",templateUrl:"user-options.html",changeDetection:r.ChangeDetectionStrategy.OnPush}),d("design:paramtypes",[i.u,i.n,r.NgZone,r.ChangeDetectorRef,o.a,a.a,l.a])],e)}()},494:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),i=n(487),a=n(189),o=n(119),l=n(118),s=n(13),c=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},u=function(){function e(){}return e=c([Object(r.NgModule)({declarations:[i.a],imports:[s.j.forChild(i.a),a.a,o.a,l.a]})],e)}()},497:function(e,t,n){"use strict";function r(e){return o["ɵvid"](0,[(e()(),o["ɵeld"](0,0,null,null,7,"button",[["class","item item-block"],["ion-item",""],["popover-item",""]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var r=!0,i=e.component;if("click"===t){r=!1!==i.deactivate(i.user)&&r}return r},l.b,l.a)),o["ɵdid"](1,1097728,null,3,s.a,[c.a,u.a,o.ElementRef,o.Renderer,[2,d.a]],null,null),o["ɵqud"](335544320,1,{contentLabel:0}),o["ɵqud"](603979776,2,{_buttons:1}),o["ɵqud"](603979776,3,{_icons:1}),o["ɵdid"](5,16384,null,0,f.a,[],null,null),(e()(),o["ɵeld"](6,0,null,2,1,"mars-translatable",[["content","deactivate"]],null,null,null,h.b,h.a)),o["ɵdid"](7,114688,null,0,p.a,[m.a,o.ChangeDetectorRef],{localeKey:[0,"localeKey"]},null)],function(e,t){e(t,7,0,"deactivate")},function(e,t){e(t,0,0,t.component.saving)})}function i(e){return o["ɵvid"](0,[(e()(),o["ɵeld"](0,0,null,null,7,"button",[["class","item item-block"],["ion-item",""],["popover-item",""]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var r=!0,i=e.component;if("click"===t){r=!1!==i.activate(i.user)&&r}return r},l.b,l.a)),o["ɵdid"](1,1097728,null,3,s.a,[c.a,u.a,o.ElementRef,o.Renderer,[2,d.a]],null,null),o["ɵqud"](335544320,4,{contentLabel:0}),o["ɵqud"](603979776,5,{_buttons:1}),o["ɵqud"](603979776,6,{_icons:1}),o["ɵdid"](5,16384,null,0,f.a,[],null,null),(e()(),o["ɵeld"](6,0,null,2,1,"mars-translatable",[["content","activate"]],null,null,null,h.b,h.a)),o["ɵdid"](7,114688,null,0,p.a,[m.a,o.ChangeDetectorRef],{localeKey:[0,"localeKey"]},null)],function(e,t){e(t,7,0,"activate")},function(e,t){e(t,0,0,t.component.saving)})}function a(e){return o["ɵvid"](2,[(e()(),o["ɵand"](16777216,null,null,1,null,r)),o["ɵdid"](1,16384,null,0,v.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),o["ɵand"](16777216,null,null,1,null,i)),o["ɵdid"](3,16384,null,0,v.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,!n.user.deleted);e(t,3,0,n.user.deleted)},null)}n.d(t,"a",function(){return C});var o=n(0),l=n(122),s=n(23),c=n(20),u=n(2),d=n(57),f=n(72),h=n(305),p=n(120),m=n(36),v=n(12),g=n(487),b=n(6),y=n(17),_=n(19),R=n(56),k=o["ɵcrt"]({encapsulation:2,styles:[],data:{}}),C=o["ɵccf"]("user-options",g.a,function(e){return o["ɵvid"](0,[(e()(),o["ɵeld"](0,0,null,null,1,"user-options",[],null,null,null,a,k)),o["ɵdid"](1,49152,null,0,g.a,[b.a,y.a,o.NgZone,o.ChangeDetectorRef,m.a,_.a,R.a],null,null)],null,null)},{},{},[])}});