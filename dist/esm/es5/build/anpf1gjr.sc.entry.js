import*as tslib_1 from"../polyfills/tslib.js";import{h}from"../clipper.core.js";import"./chunk-c46efb37.js";import{b as showMyOrders$1}from"./chunk-b29ff8f0.js";import{a as close}from"./chunk-fe10219c.js";import{i as isEndSide}from"./chunk-e658e8b7.js";import{c as createColorClasses}from"./chunk-c82b670d.js";import{d as createOverlay,e as dismissOverlay,f as getOverlay}from"./chunk-794673eb.js";import{a as showMyOrders,f as selectOrder,b as cancelOrder,g as startOrder}from"./chunk-3c944ae9.js";import{a as ConferenceData,b as UserData}from"./chunk-f41ac15c.js";var openSlidingItem,PageSchedule=function(){function t(){this.excludeTracks=[],this.dayIndex=0,this.groups=[],this.shownSessions=[],this.segment="awaiting",this.queryText="",this.orders=[],this.scheduleOrders=[],this.awaitingOrders=[],this.slided=!1}return t.prototype.componentWillLoad=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(t){switch(t.label){case 0:return this.updateSchedule(),this.store.mapStateToProps(this,function(t){return{token:t.session.token}}),this.store.mapDispatchToProps(this,{close:close}),this.role=this.parseJwt(this.token)._role,"MERCHANT"===this.role?(this.store.mapStateToProps(this,function(t){return{orders:t.merchant.orders}}),this.store.mapDispatchToProps(this,{showMyOrders:showMyOrders,selectOrder:selectOrder,cancelOrder:cancelOrder,startOrder:startOrder})):"CUSTOMER"===this.role&&(this.store.mapStateToProps(this,function(t){return{orders:t.customer.orders}}),this.store.mapDispatchToProps(this,{showCustomerOrders:showMyOrders$1,cancelOrder:cancelOrder})),[4,this.populateOrders()];case 1:return t.sent(),[2]}})})},t.prototype.componentDidLoad=function(){this.scheduleList=this.el.querySelector("#scheduleList"),this.fab=this.el.querySelector("#socialFab")},t.prototype.populateOrders=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(t){switch(t.label){case 0:return"MERCHANT"!==this.role?[3,2]:[4,this.showMyOrders(this.token)];case 1:return t.sent(),[3,4];case 2:return[4,this.showCustomerOrders(this.token)];case 3:t.sent(),t.label=4;case 4:return this.scheduleOrders=this.orders.filter(function(t){return"accepted"===t.status}),this.awaitingOrders=this.orders.filter(function(t){return"awaiting_for_confirmation"===t.status}),[2]}})})},t.prototype.parseJwt=function(t){var e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(e))},t.prototype.segmentChanged=function(t){this.segment=t.target.value,this.updateSchedule()},t.prototype.searchbarChanged=function(t){this.queryText=t.target.value,console.log(this.queryText),this.updateSchedule()},t.prototype.modalDidDismiss=function(t){t&&(this.excludeTracks=t.detail.data,this.updateSchedule())},t.prototype.loadingWillDismiss=function(){this.fab.close()},t.prototype.updateSchedule=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){var t;return tslib_1.__generator(this,function(e){switch(e.label){case 0:return[4,ConferenceData.getTimeline(this.dayIndex,this.queryText,this.excludeTracks,this.segment)];case 1:return t=e.sent(),this.shownSessions=t.shownSessions,this.groups=t.groups,this.el.forceUpdate(),[2]}})})},t.prototype.presentFilter=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(t){switch(t.label){case 0:return[4,this.modalCtrl.create({component:"page-schedule-filter",componentProps:{excludedTracks:this.excludeTracks}})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}})})},t.prototype.cancelCurrentOrder=function(t){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(e){switch(e.label){case 0:return[4,this.cancelOrder(t,this.token)];case 1:return e.sent(),[4,this.populateOrders()];case 2:return e.sent(),[4,this.tab.componentOnReady()];case 3:return e.sent().select("tab-drawer"),this.close(),[2]}})})},t.prototype.startCurrentOrder=function(t){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(e){switch(e.label){case 0:return[4,this.startOrder(t,this.token)];case 1:return e.sent(),[4,this.tab.componentOnReady()];case 2:return e.sent().select("tab-drawer"),this.close(),[2]}})})},t.prototype.confirmOrder=function(t){return tslib_1.__awaiter(this,void 0,void 0,function(){var e=this;return tslib_1.__generator(this,function(i){switch(i.label){case 0:return[4,this.alertCtrl.create({header:"Confirmar o frete para o horário?",buttons:[{text:"Cancelar",handler:function(){}},{text:"Confirmar",handler:function(){return tslib_1.__awaiter(e,void 0,void 0,function(){return tslib_1.__generator(this,function(e){switch(e.label){case 0:return this.selectOrder(t,this.token),[4,this.populateOrders()];case 1:return e.sent(),[2]}})})}}]})];case 1:return i.sent().present(),[2]}})})},t.prototype.removeFavorite=function(t,e){return tslib_1.__awaiter(this,void 0,void 0,function(){var i=this;return tslib_1.__generator(this,function(n){switch(n.label){case 0:return[4,this.alertCtrl.create({header:e,message:"Would you like to remove this session from your favorites?",buttons:[{text:"Cancel",handler:function(){}},{text:"Remove",handler:function(){UserData.removeFavorite(t.name),i.updateSchedule()}}]})];case 1:return n.sent().present(),[2]}})})},t.prototype.openSocial=function(t){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(e){switch(e.label){case 0:return this.toggleList(),[4,this.loadingCtrl.create({message:"Posting to "+t,duration:1e3*Math.random()+500})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})},t.prototype.toggleList=function(){var t=this.fab.querySelector("ion-fab-button");t.activated=!t.activated;var e=this.fab.querySelector("ion-fab-list");e.activated=!e.activated},t.prototype.toggleSlide=function(t){return tslib_1.__awaiter(this,void 0,void 0,function(){var e;return tslib_1.__generator(this,function(i){switch(i.label){case 0:return e=document.getElementById(t),this.slided?[3,2]:[4,e.open("end")];case 1:return i.sent(),[3,4];case 2:return[4,e.close()];case 3:i.sent(),i.label=4;case 4:return this.slided=!this.slided,[2]}})})},t.prototype.render=function(){var t=this;return[h("ion-header",{class:"aligned"},h("ion-toolbar",{class:"aligned"},h("ion-buttons",{slot:"start"},h("ion-menu-button",null)),h("ion-segment",{class:"aligned",value:this.segment},h("ion-segment-button",{value:"awaiting"},"Aguardando"),h("ion-segment-button",{value:"schedule"},"Agendados")),h("ion-buttons",{slot:"end"}))),h("ion-content",null,h("ion-list",{id:"scheduleList",hidden:0===this.shownSessions},("awaiting"===this.segment?this.awaitingOrders:this.scheduleOrders).map(function(e){return h("ion-item-group",null,h("ion-item-sliding",{class:"item-sliding-track",id:e._id,onClick:function(){return t.toggleSlide(e._id)}},h("ion-item-options",{side:"start"},"accepted"===e.status&&h("ion-item-option",{color:"danger",onClick:function(){return t.cancelCurrentOrder(e._id)}},"Cancelar")),h("ion-item",{class:"item-sliding-track-trabalho",href:"#"},h("ion-label",null,h("h3",null,e.job.destination.address.street+" "+e.job.destination.address.number),h("p",null," ",e.job.scheduledTo," - ",e.job.origin.address.street+" "+e.job.origin.address.number))),h("ion-item-options",{side:"end"},"MERCHANT"===t.role&&("awaiting_for_confirmation"===e.status?h("ion-item-option",{color:"favorite",onClick:function(){return t.confirmOrder(e._id)}},"Confirmar"):h("ion-item-option",{color:"tertiary",onClick:function(){return t.startCurrentOrder(e._id)}},"Começar")))))})),h("ion-list-header",{hidden:("awaiting"===this.segment?this.awaitingOrders:this.scheduleOrders).length>0},"Não há sessões encontradas"))]},Object.defineProperty(t,"is",{get:function(){return"page-schedule"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{alertCtrl:{connect:"ion-alert-controller"},awaitingOrders:{state:!0},config:{context:"config"},el:{elementRef:!0},groups:{state:!0},loadingCtrl:{connect:"ion-loading-controller"},modalCtrl:{connect:"ion-modal-controller"},orders:{state:!0},queryText:{state:!0},role:{state:!0},scheduleOrders:{state:!0},segment:{state:!0},shownSessions:{state:!0},slided:{state:!0},store:{context:"store"},tab:{connect:"ion-tabs"},token:{state:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"listeners",{get:function(){return[{name:"ionChange",method:"segmentChanged"},{name:"ionInput",method:"searchbarChanged"},{name:"body:ionModalDidDismiss",method:"modalDidDismiss"},{name:"body:ionLoadingWillDismiss",method:"loadingWillDismiss"}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return".ion-item-divider.sticky{position:sticky;position:-webkit-sticky;top:0}.item-sliding-track ion-label{border-left:2px solid transparent;padding-left:10px}.item-sliding-track-trabalho ion-label{border-left-color:var(--ion-color-primary)}.item-sliding-track-jantar ion-label{border-left-color:var(--ion-color-angular)}.item-sliding-track-quarto ion-label{border-left-color:var(--ion-color-communication)}.item-sliding-track-cozinha ion-label{border-left-color:var(--ion-color-tooling)}.item-sliding-track-lazer ion-label{border-left-color:var(--ion-color-services)}.item-sliding-track-living ion-label{border-left-color:var(--ion-color-design)}.item-sliding-track-oficina ion-label{border-left-color:var(--ion-color-workshop)}.item-sliding-track-comida ion-label{border-left-color:var(--ion-color-food)}.item-sliding-track-biblioteca ion-label{border-left-color:var(--ion-color-documentation)}.item-sliding-track-comercial ion-label{border-left-color:var(--ion-color-navigation)}.aligned{min-height:56px}"},enumerable:!0,configurable:!0}),t}(),ItemGroup=function(){function t(){}return t.prototype.hostData=function(){var t;return{role:"group",class:(t={},t[""+this.mode]=!0,t["item-group-"+this.mode]=!0,t.item=!0,t)}},Object.defineProperty(t,"is",{get:function(){return"ion-item-group"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"ion-item-group{display:block}.item-group-ios ion-item-sliding:last-child .item,.item-group-ios ion-item:last-child{--border-width:0}"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"styleMode",{get:function(){return"ios"},enumerable:!0,configurable:!0}),t}(),ItemOption=function(){function t(){this.disabled=!1,this.expandable=!1}return t.prototype.onClick=function(t){t.target.closest("ion-item-option")&&t.preventDefault()},t.prototype.hostData=function(){var t,e=this.disabled,i=this.expandable;return{class:Object.assign({},createColorClasses(this.color),(t={},t[""+this.mode]=!0,t["item-option-disabled"]=e,t["item-option-expandable"]=i,t["ion-activatable"]=!0,t))}},t.prototype.render=function(){return h(void 0===this.href?"button":"a",{type:"button",class:"button-native",disabled:this.disabled,href:this.href},h("span",{class:"button-inner"},h("slot",{name:"top"}),h("div",{class:"horizontal-wrapper"},h("slot",{name:"start"}),h("slot",{name:"icon-only"}),h("slot",null),h("slot",{name:"end"})),h("slot",{name:"bottom"})),"md"===this.mode&&h("ion-ripple-effect",null))},Object.defineProperty(t,"is",{get:function(){return"ion-item-option"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{color:{type:String,attr:"color"},disabled:{type:Boolean,attr:"disabled"},el:{elementRef:!0},expandable:{type:Boolean,attr:"expandable"},href:{type:String,attr:"href"},mode:{type:String,attr:"mode"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"listeners",{get:function(){return[{name:"click",method:"onClick"}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return".sc-ion-item-option-ios-h{--background:var(--ion-color-primary,#3880ff);--color:var(--ion-color-primary-contrast,#fff);background:var(--background);color:var(--color);font-family:var(--ion-font-family,inherit)}.in-list.item-options-end.sc-ion-item-option-ios-h:last-child{padding-right:calc(.7em + var(--ion-safe-area-right))}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.in-list.item-options-end.sc-ion-item-option-ios-h:last-child{padding-right:unset;-webkit-padding-end:calc(.7em + var(--ion-safe-area-right));padding-inline-end:calc(.7em + var(--ion-safe-area-right))}}.in-list.item-options-start.sc-ion-item-option-ios-h:first-child{padding-left:calc(.7em + var(--ion-safe-area-left))}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.in-list.item-options-start.sc-ion-item-option-ios-h:first-child{padding-left:unset;-webkit-padding-start:calc(.7em + var(--ion-safe-area-left));padding-inline-start:calc(.7em + var(--ion-safe-area-left))}}.ion-color.sc-ion-item-option-ios-h{background:var(--ion-color-base);color:var(--ion-color-contrast)}.button-native.sc-ion-item-option-ios{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:.7em;padding-right:.7em;padding-top:0;padding-bottom:0;display:inline-block;position:relative;width:100%;height:100%;border:0;outline:none;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-box-sizing:border-box;box-sizing:border-box}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.button-native.sc-ion-item-option-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:.7em;padding-inline-start:.7em;-webkit-padding-end:.7em;padding-inline-end:.7em}}.button-inner.sc-ion-item-option-ios{-ms-flex-flow:column nowrap;flex-flow:column nowrap;height:100%}.button-inner.sc-ion-item-option-ios, .horizontal-wrapper.sc-ion-item-option-ios{display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%}.horizontal-wrapper.sc-ion-item-option-ios{-ms-flex-flow:row nowrap;flex-flow:row nowrap}.sc-ion-item-option-ios-s > *{-ms-flex-negative:0;flex-shrink:0}.sc-ion-item-option-ios-s > [slot=start]{margin-left:0;margin-right:5px;margin-top:0;margin-bottom:0}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.sc-ion-item-option-ios-s > [slot=start]{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:5px;margin-inline-end:5px}}.sc-ion-item-option-ios-s > [slot=end]{margin-left:5px;margin-right:0;margin-top:0;margin-bottom:0}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.sc-ion-item-option-ios-s > [slot=end]{margin-left:unset;margin-right:unset;-webkit-margin-start:5px;margin-inline-start:5px;-webkit-margin-end:0;margin-inline-end:0}}.sc-ion-item-option-ios-s > [slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:10px;margin-right:10px;margin-top:0;margin-bottom:0;min-width:.9em;font-size:1.8em}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.sc-ion-item-option-ios-s > [slot=icon-only]{margin-left:unset;margin-right:unset;-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px}}.item-option-expandable.sc-ion-item-option-ios-h{-ms-flex-negative:0;flex-shrink:0;-webkit-transition-duration:0;transition-duration:0;-webkit-transition-property:none;transition-property:none;-webkit-transition-timing-function:cubic-bezier(.65,.05,.36,1);transition-timing-function:cubic-bezier(.65,.05,.36,1)}.item-option-disabled.sc-ion-item-option-ios-h{pointer-events:none}.item-option-disabled.sc-ion-item-option-ios-h   .button-native.sc-ion-item-option-ios{cursor:default;opacity:.5;pointer-events:none}.sc-ion-item-option-ios-h{font-size:16px}.activated.sc-ion-item-option-ios-h{background:var(--ion-color-primary-shade,#3171e0)}.ion-color.activated.sc-ion-item-option-ios-h{background:var(--ion-color-shade)}"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"styleMode",{get:function(){return"ios"},enumerable:!0,configurable:!0}),t}(),ItemOptions=function(){function t(){this.side="end"}return t.prototype.fireSwipeEvent=function(){this.ionSwipe.emit({side:this.side})},t.prototype.hostData=function(){var t,e=isEndSide(this.win,this.side);return{class:(t={},t[""+this.mode]=!0,t["item-options-"+this.mode]=!0,t["item-options-start"]=!e,t["item-options-end"]=e,t)}},Object.defineProperty(t,"is",{get:function(){return"ion-item-options"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{el:{elementRef:!0},fireSwipeEvent:{method:!0},side:{type:String,attr:"side"},win:{context:"window"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"ionSwipe",method:"ionSwipe",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"ion-item-options{top:0;right:0;-ms-flex-pack:end;justify-content:flex-end;display:none;position:absolute;height:100%;font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1}:host-context([dir=rtl]) ion-item-options{-ms-flex-pack:start;justify-content:flex-start}:host-context([dir=rtl]) ion-item-options:not(.item-options-end){right:auto;left:0;-ms-flex-pack:end;justify-content:flex-end}.item-options-start{right:auto;left:0;-ms-flex-pack:start;justify-content:flex-start}:host-context([dir=rtl]) .item-options-start{-ms-flex-pack:end;justify-content:flex-end}.item-options-start ion-item-option:first-child{padding-right:var(--ion-safe-area-left)}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.item-options-start ion-item-option:first-child{padding-right:unset;-webkit-padding-end:var(--ion-safe-area-left);padding-inline-end:var(--ion-safe-area-left)}}.item-options-end ion-item-option:last-child{padding-right:var(--ion-safe-area-right)}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.item-options-end ion-item-option:last-child{padding-right:unset;-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right)}}:host-context([dir=rtl]) .item-sliding-active-slide.item-sliding-active-options-start ion-item-options:not(.item-options-end){width:100%;visibility:visible}.item-sliding-active-slide ion-item-options{display:-ms-flexbox;display:flex;visibility:hidden}.item-sliding-active-slide.item-sliding-active-options-end ion-item-options:not(.item-options-start),.item-sliding-active-slide.item-sliding-active-options-start .item-options-start{width:100%;visibility:visible}.item-options-ios{border-bottom-width:0;border-bottom-style:solid;border-bottom-color:var(--ion-item-border-color,var(--ion-border-color,var(--ion-color-step-150,#c8c7cc)))}.item-options-ios.item-options-end{border-bottom-width:.55px}.list-ios-lines-none .item-options-ios{border-bottom-width:0}.list-ios-lines-full .item-options-ios,.list-ios-lines-inset .item-options-ios.item-options-end{border-bottom-width:.55px}"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"styleMode",{get:function(){return"ios"},enumerable:!0,configurable:!0}),t}(),SWIPE_MARGIN=30,ELASTIC_FACTOR=.55,ItemSliding=function(){function t(){this.item=null,this.openAmount=0,this.initialOpenAmount=0,this.optsWidthRightSide=0,this.optsWidthLeftSide=0,this.sides=0,this.optsDirty=!0,this.state=2,this.disabled=!1}return t.prototype.disabledChanged=function(){this.gesture&&this.gesture.setDisabled(this.disabled)},t.prototype.componentDidLoad=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){var t,e=this;return tslib_1.__generator(this,function(i){switch(i.label){case 0:return this.item=this.el.querySelector("ion-item"),[4,this.updateOptions()];case 1:return i.sent(),t=this,[4,import("./chunk-04f0cf95.js")];case 2:return t.gesture=i.sent().createGesture({el:this.el,queue:this.queue,gestureName:"item-swipe",gesturePriority:100,threshold:5,canStart:function(){return e.canStart()},onStart:function(){return e.onStart()},onMove:function(t){return e.onMove(t)},onEnd:function(t){return e.onEnd(t)}}),this.disabledChanged(),[2]}})})},t.prototype.componentDidUnload=function(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.item=null,this.leftOptions=this.rightOptions=void 0,openSlidingItem===this.el&&(openSlidingItem=void 0)},t.prototype.getOpenAmount=function(){return Promise.resolve(this.openAmount)},t.prototype.getSlidingRatio=function(){return Promise.resolve(this.getSlidingRatioSync())},t.prototype.open=function(t){return tslib_1.__awaiter(this,void 0,void 0,function(){var e,i,n=this;return tslib_1.__generator(this,function(o){return null===this.item?[2]:(e=this.getOptions(t))?(void 0===t&&(t=e===this.leftOptions?"start":"end"),i=this.openAmount>0,this.openAmount<0&&e===this.leftOptions?[2]:i&&e===this.rightOptions?[2]:(this.closeOpened(),this.state=4,requestAnimationFrame(function(){n.calculateOptsWidth(),openSlidingItem=n.el,n.setOpenAmount("end"===t?n.optsWidthRightSide:-n.optsWidthLeftSide,!1),n.state="end"===t?8:16}),[2])):[2]})})},t.prototype.close=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(t){return this.setOpenAmount(0,!0),[2]})})},t.prototype.closeOpened=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(t){return void 0!==openSlidingItem?(openSlidingItem.close(),openSlidingItem=void 0,[2,!0]):[2,!1]})})},t.prototype.getOptions=function(t){return void 0===t?this.leftOptions||this.rightOptions:"start"===t?this.leftOptions:this.rightOptions},t.prototype.updateOptions=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){var t,e,i,n;return tslib_1.__generator(this,function(o){switch(o.label){case 0:t=this.el.querySelectorAll("ion-item-options"),e=0,this.leftOptions=this.rightOptions=void 0,i=0,o.label=1;case 1:return i<t.length?[4,t.item(i).componentOnReady()]:[3,4];case 2:"start"===(n=o.sent()).side?(this.leftOptions=n,e|=1):(this.rightOptions=n,e|=2),o.label=3;case 3:return i++,[3,1];case 4:return this.optsDirty=!0,this.sides=e,[2]}})})},t.prototype.canStart=function(){return openSlidingItem&&openSlidingItem!==this.el?(this.closeOpened(),!1):!(!this.rightOptions&&!this.leftOptions)},t.prototype.onStart=function(){openSlidingItem=this.el,void 0!==this.tmr&&(clearTimeout(this.tmr),this.tmr=void 0),0===this.openAmount&&(this.optsDirty=!0,this.state=4),this.initialOpenAmount=this.openAmount,this.item&&(this.item.style.transition="none")},t.prototype.onMove=function(t){this.optsDirty&&this.calculateOptsWidth();var e,i=this.initialOpenAmount-t.deltaX;switch(this.sides){case 2:i=Math.max(0,i);break;case 1:i=Math.min(0,i);break;case 3:break;case 0:return;default:console.warn("invalid ItemSideFlags value",this.sides)}i>this.optsWidthRightSide?i=(e=this.optsWidthRightSide)+(i-e)*ELASTIC_FACTOR:i<-this.optsWidthLeftSide&&(i=(e=-this.optsWidthLeftSide)+(i-e)*ELASTIC_FACTOR),this.setOpenAmount(i,!1)},t.prototype.onEnd=function(t){var e=t.velocityX,i=this.openAmount>0?this.optsWidthRightSide:-this.optsWidthLeftSide;swipeShouldReset(this.openAmount>0==!(e<0),Math.abs(e)>.3,Math.abs(this.openAmount)<Math.abs(i/2))&&(i=0);var n=this.state;this.setOpenAmount(i,!0),0!=(32&n)&&this.rightOptions?this.rightOptions.fireSwipeEvent():0!=(64&n)&&this.leftOptions&&this.leftOptions.fireSwipeEvent()},t.prototype.calculateOptsWidth=function(){this.optsWidthRightSide=0,this.rightOptions&&(this.rightOptions.style.display="flex",this.optsWidthRightSide=this.rightOptions.offsetWidth,this.rightOptions.style.display=""),this.optsWidthLeftSide=0,this.leftOptions&&(this.leftOptions.style.display="flex",this.optsWidthLeftSide=this.leftOptions.offsetWidth,this.leftOptions.style.display=""),this.optsDirty=!1},t.prototype.setOpenAmount=function(t,e){var i=this;if(void 0!==this.tmr&&(clearTimeout(this.tmr),this.tmr=void 0),this.item){var n=this.item.style;if(this.openAmount=t,e&&(n.transition=""),t>0)this.state=t>=this.optsWidthRightSide+SWIPE_MARGIN?40:8;else{if(!(t<0))return this.tmr=setTimeout(function(){i.state=2,i.tmr=void 0},600),openSlidingItem=void 0,void(n.transform="");this.state=t<=-this.optsWidthLeftSide-SWIPE_MARGIN?80:16}n.transform="translate3d("+-t+"px,0,0)",this.ionDrag.emit({amount:t,ratio:this.getSlidingRatioSync()})}},t.prototype.getSlidingRatioSync=function(){return this.openAmount>0?this.openAmount/this.optsWidthRightSide:this.openAmount<0?this.openAmount/this.optsWidthLeftSide:0},t.prototype.hostData=function(){var t;return{class:(t={},t[""+this.mode]=!0,t["item-sliding-active-slide"]=2!==this.state,t["item-sliding-active-options-end"]=0!=(8&this.state),t["item-sliding-active-options-start"]=0!=(16&this.state),t["item-sliding-active-swipe-end"]=0!=(32&this.state),t["item-sliding-active-swipe-start"]=0!=(64&this.state),t)}},Object.defineProperty(t,"is",{get:function(){return"ion-item-sliding"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{close:{method:!0},closeOpened:{method:!0},disabled:{type:Boolean,attr:"disabled",watchCallbacks:["disabledChanged"]},el:{elementRef:!0},getOpenAmount:{method:!0},getSlidingRatio:{method:!0},open:{method:!0},queue:{context:"queue"},state:{state:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"ionDrag",method:"ionDrag",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"ion-item-sliding{display:block;position:relative;width:100%;overflow:hidden}ion-item-sliding,ion-item-sliding .item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.item-sliding-active-slide .item{position:relative;-webkit-transition:-webkit-transform .5s cubic-bezier(.36,.66,.04,1);transition:-webkit-transform .5s cubic-bezier(.36,.66,.04,1);transition:transform .5s cubic-bezier(.36,.66,.04,1);transition:transform .5s cubic-bezier(.36,.66,.04,1),-webkit-transform .5s cubic-bezier(.36,.66,.04,1);opacity:1;z-index:2;pointer-events:none;will-change:transform}.item-sliding-active-swipe-end .item-options-end .item-option-expandable{padding-left:100%;-ms-flex-order:1;order:1;-webkit-transition-duration:.6s;transition-duration:.6s;-webkit-transition-property:padding-left;transition-property:padding-left}:host-context([dir=rtl]) .item-sliding-active-swipe-end .item-options-end .item-option-expandable{-ms-flex-order:-1;order:-1}.item-sliding-active-swipe-start .item-options-start .item-option-expandable{padding-right:100%;-ms-flex-order:-1;order:-1;-webkit-transition-duration:.6s;transition-duration:.6s;-webkit-transition-property:padding-right;transition-property:padding-right}:host-context([dir=rtl]) .item-sliding-active-swipe-start .item-options-start .item-option-expandable{-ms-flex-order:1;order:1}"},enumerable:!0,configurable:!0}),t}();function swipeShouldReset(t,e,i){return!e&&i||t&&e}var LoadingController=function(){function t(){}return t.prototype.create=function(t){return createOverlay(this.doc.createElement("ion-loading"),t)},t.prototype.dismiss=function(t,e,i){return dismissOverlay(this.doc,t,e,"ion-loading",i)},t.prototype.getTop=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(t){return[2,getOverlay(this.doc,"ion-loading")]})})},Object.defineProperty(t,"is",{get:function(){return"ion-loading-controller"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{create:{method:!0},dismiss:{method:!0},doc:{context:"document"},getTop:{method:!0}}},enumerable:!0,configurable:!0}),t}(),Segment=function(){function t(){this.disabled=!1,this.scrollable=!1}return t.prototype.valueChanged=function(t){this.updateButtons(),this.ionChange.emit({value:t})},t.prototype.segmentClick=function(t){this.value=t.target.value},t.prototype.componentWillLoad=function(){this.emitStyle()},t.prototype.componentDidLoad=function(){if(null==this.value){var t=this.getButtons().find(function(t){return t.checked});t&&(this.value=t.value)}this.updateButtons()},t.prototype.emitStyle=function(){this.ionStyle.emit({segment:!0})},t.prototype.updateButtons=function(){for(var t=this.value,e=0,i=this.getButtons();e<i.length;e++){var n=i[e];n.checked=n.value===t}},t.prototype.getButtons=function(){return Array.from(this.el.querySelectorAll("ion-segment-button"))},t.prototype.hostData=function(){var t;return{class:Object.assign({},createColorClasses(this.color),(t={},t[""+this.mode]=!0,t["segment-disabled"]=this.disabled,t["segment-scrollable"]=this.scrollable,t))}},Object.defineProperty(t,"is",{get:function(){return"ion-segment"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"scoped"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{color:{type:String,attr:"color"},disabled:{type:Boolean,attr:"disabled"},el:{elementRef:!0},mode:{type:String,attr:"mode"},scrollable:{type:Boolean,attr:"scrollable"},value:{type:String,attr:"value",mutable:!0,watchCallbacks:["valueChanged"]}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"ionChange",method:"ionChange",bubbles:!0,cancelable:!0,composed:!0},{name:"ionStyle",method:"ionStyle",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"listeners",{get:function(){return[{name:"ionSelect",method:"segmentClick"}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return".sc-ion-segment-ios-h{--indicator-color-checked:initial;--ripple-color:initial;--color-activated:initial;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:center;justify-content:center;width:100%;font-family:var(--ion-font-family,inherit);text-align:center}.sc-ion-segment-ios-s > .segment-button-disabled, .segment-disabled.sc-ion-segment-ios-h{pointer-events:none}.segment-scrollable.sc-ion-segment-ios-h{-ms-flex-pack:start;justify-content:start;width:auto;overflow-x:scroll}.segment-scrollable.sc-ion-segment-ios-h::-webkit-scrollbar{display:none}.sc-ion-segment-ios-h{--background:transparent;--background-hover:rgba(var(--ion-color-primary-rgb,56,128,255),0.1);--background-activated:rgba(var(--ion-color-primary-rgb,56,128,255),0.16);--background-checked:var(--ion-color-primary,#3880ff);--color:var(--ion-color-primary,#3880ff);--color-checked:var(--ion-color-primary-contrast,#fff);--color-disabled:rgba(var(--ion-color-primary-rgb,56,128,255),0.3);--color-checked-disabled:rgba(var(--ion-color-primary-contrast-rgb,255,255,255),0.3);--border-color:var(--ion-color-primary,#3880ff);--indicator-color:transparent}.segment-disabled.sc-ion-segment-ios-h{opacity:.3}.sc-ion-segment-ios-h.ion-color.sc-ion-segment-ios-s > ion-segment-button{--border-color:var(--ion-color-base);--background-hover:rgba(var(--ion-color-base-rgb),0.04);background:transparent;color:var(--ion-color-base)}.sc-ion-segment-ios-h.ion-color.sc-ion-segment-ios-s > .activated{background:rgba(var(--ion-color-base-rgb),.16);color:var(--ion-color-base)}.sc-ion-segment-ios-h.ion-color.sc-ion-segment-ios-s > .segment-button-checked, .sc-ion-segment-ios-h.ion-color.sc-ion-segment-ios-s > .segment-button-checked.activated{background:var(--ion-color-base);color:var(--ion-color-contrast)}.sc-ion-segment-ios-h.ion-color.sc-ion-segment-ios-s > .segment-button-disabled{color:rgba(var(--ion-color-base-rgb),.3)}.sc-ion-segment-ios-h.ion-color.sc-ion-segment-ios-s > .segment-button-checked.segment-button-disabled{color:rgba(var(--ion-color-contrast-rgb),.3)}.sc-ion-segment-ios-hion-toolbar.sc-ion-segment-ios-s > ion-segment-button, ion-toolbar .sc-ion-segment-ios-h.sc-ion-segment-ios-s > ion-segment-button{max-width:100px;font-size:12px;line-height:22px}.sc-ion-segment-ios-hion-toolbar:not(.ion-color).sc-ion-segment-ios-s > ion-segment-button, ion-toolbar .sc-ion-segment-ios-h:not(.ion-color).sc-ion-segment-ios-s > ion-segment-button{border-color:var(--ion-toolbar-color-checked,var(--border-color));color:var(--ion-toolbar-color-unchecked,var(--color))}.sc-ion-segment-ios-hion-toolbar:not(.ion-color).sc-ion-segment-ios-s > .segment-button-checked, ion-toolbar .sc-ion-segment-ios-h:not(.ion-color).sc-ion-segment-ios-s > .segment-button-checked{color:var(--ion-toolbar-color-checked,var(--color-checked))}.sc-ion-segment-ios-hion-toolbar.ion-color:not(.ion-color).sc-ion-segment-ios-s > ion-segment-button, ion-toolbar.ion-color .sc-ion-segment-ios-h:not(.ion-color).sc-ion-segment-ios-s > ion-segment-button{--color:var(--ion-color-contrast);--color-disabled:rgba(var(--ion-color-contrast-rgb),0.3);--color-checked:var(--ion-color-base);--color-checked-disabled:rgba(var(--ion-color-contrast-rgb),0.3);--background-hover:rgba(var(--ion-color-contrast-rgb),0.1);--background-activated:rgba(var(--ion-color-contrast-rgb),0.16);--background-checked:var(--ion-color-contrast);--border-color:var(--ion-color-contrast)}"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"styleMode",{get:function(){return"ios"},enumerable:!0,configurable:!0}),t}(),ids=0,SegmentButton=function(){function t(){this.checked=!1,this.disabled=!1,this.layout="icon-top",this.value="ion-sb-"+ids++}return t.prototype.checkedChanged=function(t,e){t&&!e&&this.ionSelect.emit()},t.prototype.onClick=function(){this.checked=!0},Object.defineProperty(t.prototype,"hasLabel",{get:function(){return!!this.el.querySelector("ion-label")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasIcon",{get:function(){return!!this.el.querySelector("ion-icon")},enumerable:!0,configurable:!0}),t.prototype.hostData=function(){var t,e=this,i=e.checked,n=e.disabled,o=e.hasIcon,r=e.hasLabel,s=e.layout;return{"aria-disabled":n?"true":null,class:(t={},t[""+this.mode]=!0,t["segment-button-has-label"]=r,t["segment-button-has-icon"]=o,t["segment-button-has-label-only"]=r&&!o,t["segment-button-has-icon-only"]=o&&!r,t["segment-button-disabled"]=n,t["segment-button-checked"]=i,t["segment-button-layout-"+s]=!0,t["ion-activatable"]=!0,t["ion-activatable-instant"]=!0,t)}},t.prototype.render=function(){return[h("button",{type:"button","aria-pressed":this.checked?"true":null,class:"button-native",disabled:this.disabled},h("slot",null),"md"===this.mode&&h("ion-ripple-effect",null)),h("div",{class:"segment-button-indicator"})]},Object.defineProperty(t,"is",{get:function(){return"ion-segment-button"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{checked:{type:Boolean,attr:"checked",mutable:!0,watchCallbacks:["checkedChanged"]},disabled:{type:Boolean,attr:"disabled"},el:{elementRef:!0},layout:{type:String,attr:"layout"},mode:{type:String,attr:"mode"},value:{type:String,attr:"value"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"ionSelect",method:"ionSelect",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"listeners",{get:function(){return[{name:"click",method:"onClick"}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return".sc-ion-segment-button-ios-h{--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex:1 0 auto;flex:1 0 auto;-ms-flex-direction:column;flex-direction:column;height:auto;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);text-decoration:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-font-kerning:none;font-kerning:none}.sc-ion-segment-button-ios-h:first-of-type{border-top-left-radius:var(--border-radius);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--border-radius)}[dir=rtl].sc-ion-segment-button-ios-h:first-of-type{border-top-left-radius:0;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0}.sc-ion-segment-button-ios-h:not(:first-of-type){border-left-width:0}.sc-ion-segment-button-ios-h:last-of-type{border-top-left-radius:0;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0}[dir=rtl].sc-ion-segment-button-ios-h:last-of-type{border-top-left-radius:var(--border-radius);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--border-radius)}.button-native.sc-ion-segment-button-ios{border-radius:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:var(--margin-start);margin-right:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;min-width:inherit;max-width:inherit;height:auto;min-height:inherit;max-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:none;outline:none;background:transparent;contain:content;cursor:pointer}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.button-native.sc-ion-segment-button-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.segment-button-indicator.sc-ion-segment-button-ios{-ms-flex-item-align:end;align-self:flex-end;width:100%;height:2px;background-color:var(--indicator-color);opacity:1}.segment-button-checked.sc-ion-segment-button-ios-h{background:var(--background-checked);color:var(--color-checked)}.segment-button-checked.sc-ion-segment-button-ios-h   .segment-button-indicator.sc-ion-segment-button-ios{background-color:var(--indicator-color-checked,var(--color-checked))}.activated.sc-ion-segment-button-ios-h{color:var(--color-activated,var(--color))}.segment-button-disabled.sc-ion-segment-button-ios-h{color:var(--color-disabled)}.segment-button-disabled.segment-button-checked.sc-ion-segment-button-ios-h{color:var(--color-checked-disabled)}.sc-ion-segment-button-ios-s > ion-icon{-ms-flex-order:-1;order:-1}.sc-ion-segment-button-ios-s > ion-label{display:block;-ms-flex-item-align:center;align-self:center;line-height:22px;text-overflow:ellipsis;white-space:nowrap;-webkit-box-sizing:border-box;box-sizing:border-box}.segment-button-layout-icon-start.sc-ion-segment-button-ios-h   .button-native.sc-ion-segment-button-ios{-ms-flex-direction:row;flex-direction:row}.segment-button-layout-icon-end.sc-ion-segment-button-ios-h   .button-native.sc-ion-segment-button-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.segment-button-layout-icon-bottom.sc-ion-segment-button-ios-h   .button-native.sc-ion-segment-button-ios{-ms-flex-direction:column-reverse;flex-direction:column-reverse}.sc-ion-segment-button-ios-h.segment-button-layout-icon-hide .sc-ion-segment-button-ios-s > ion-icon, .sc-ion-segment-button-ios-h.segment-button-layout-label-hide .sc-ion-segment-button-ios-s > ion-label{display:none}ion-ripple-effect.sc-ion-segment-button-ios{color:var(--ripple-color,var(--color-checked))}.sc-ion-segment-button-ios-h{--border-radius:4px;--border-width:1px;--border-style:solid;--transition:100ms all linear;min-height:24px;font-size:13px;line-height:37px}.segment-button-indicator.sc-ion-segment-button-ios{display:none}.sc-ion-segment-button-ios-s > ion-icon{font-size:24px}.sc-ion-segment-button-ios-h.segment-button-layout-icon-start .sc-ion-segment-button-ios-s > ion-label{margin-left:2px;margin-right:0}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.sc-ion-segment-button-ios-h.segment-button-layout-icon-start .sc-ion-segment-button-ios-s > ion-label{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:0;margin-inline-end:0}}.sc-ion-segment-button-ios-h.segment-button-layout-icon-end .sc-ion-segment-button-ios-s > ion-label{margin-left:0;margin-right:2px}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.sc-ion-segment-button-ios-h.segment-button-layout-icon-end .sc-ion-segment-button-ios-s > ion-label{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:2px;margin-inline-end:2px}}\@media (any-hover:hover){.sc-ion-segment-button-ios-h:hover:not(.segment-button-checked){background:var(--background-hover)}}.activated.sc-ion-segment-button-ios-h{background:var(--background-activated)}.segment-button-checked.activated.sc-ion-segment-button-ios-h{background:var(--background-checked);color:var(--color-checked)}"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"styleMode",{get:function(){return"ios"},enumerable:!0,configurable:!0}),t}();export{PageSchedule,ItemGroup as IonItemGroup,ItemOption as IonItemOption,ItemOptions as IonItemOptions,ItemSliding as IonItemSliding,LoadingController as IonLoadingController,Segment as IonSegment,SegmentButton as IonSegmentButton};