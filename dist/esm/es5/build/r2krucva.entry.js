import*as tslib_1 from"../polyfills/tslib.js";import{h}from"../clipper.core.js";var PageSupport=function(){function t(){this.supportQuestion={valid:!1,value:null},this.submitted=!1}return t.prototype.componentDidLoad=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(t){switch(t.label){case 0:return[4,this.toastCtrl.create({message:"O recurso está funcionando. Pode utilizar.",duration:3e3})];case 1:return t.sent().present(),[2]}})})},t.prototype.handleSupportQuestion=function(t){this.validateQuestion(),this.supportQuestion=Object.assign({},this.supportQuestion,{value:t.target.value})},t.prototype.validateQuestion=function(){if(this.supportQuestion.value&&this.supportQuestion.value.length>0)return this.supportQuestion.valid=!0,void(this.supportQuestion=Object.assign({},this.supportQuestion,{valid:!0}));this.supportQuestion=Object.assign({},this.supportQuestion,{valid:!1})},t.prototype.submit=function(t){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(e){switch(e.label){case 0:return t.preventDefault(),this.validateQuestion(),this.submitted=!0,this.supportQuestion.valid?(this.supportQuestion=Object.assign({},this.supportQuestion,{value:""}),this.submitted=!1,[4,this.toastCtrl.create({message:"A requisição de suporte foi enviada.",duration:3e3})]):[3,2];case 1:e.sent().present(),e.label=2;case 2:return[2]}})})},t.prototype.ionViewCanLeave=function(){if(!this.supportQuestion.value||0===this.supportQuestion.value.trim().length)return!0},t.prototype.render=function(){var t=this;return[h("ion-header",null,h("ion-toolbar",null,h("ion-buttons",{slot:"start"},h("ion-menu-button",null),h("ion-back-button",null)),h("ion-title",null,"Ajuda"))),h("ion-content",null,h("div",{class:"support-logo"},h("img",{src:"assets/img/appicon.svg",alt:"Ionic Logo"})),h("form",{novalidate:!0},h("ion-list",{"no-lines":!0},h("ion-item",null,h("ion-label",{position:"stacked",color:"primary"},"Entre sua mensagem de feedback para que possamos lhe responder"),h("ion-textarea",{name:"supportQuestion",value:this.supportQuestion.value,onInput:function(e){return t.handleSupportQuestion(e)},rows:6,required:!0}))),h("ion-text",{color:"danger"},h("p",{hidden:this.supportQuestion.valid||!1===this.submitted,"padding-left":!0},"A mensagem é requerida.")),h("div",{padding:!0},h("ion-button",{onClick:function(e){return t.submit(e)},expand:"block",type:"submit"},"Enviar"))))]},Object.defineProperty(t,"is",{get:function(){return"page-support"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{alertCtrl:{connect:"ion-alert-controller"},submitted:{state:!0},supportQuestion:{state:!0},toastCtrl:{connect:"ion-toast-controller"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"page-support .support-logo{padding:20px 0;min-height:200px;text-align:center}page-support .support-logo img{max-width:150px}page-support .list{margin-bottom:0}"},enumerable:!0,configurable:!0}),t}();export{PageSupport};