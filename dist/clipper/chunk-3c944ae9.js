import{a as e,b as a}from"./chunk-c46efb37.js";const s="localhost"===(window&&window.location&&window.location.hostname)?"http://localhost:3000":"https://wasserboxer.herokuapp.com",t=t=>async(i,c)=>{e.setDomain(s);const o=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=JSON.parse(window.atob(o))._id,r=await(await e.getReadyOrders({xAccessToken:t})).json(),d=r.map(e=>e.pictures).flat(),p=await(await e.getPictures({xAccessToken:t,ids:d.flat()})).json(),w=r.map(async a=>{if(a.bids.length>0){const s=(await(await e.getOrderBids({xAccessToken:t,order:a._id})).json()).filter(e=>n===e.user._id);a.placed=s.length>0}for(let e=0;e<p.length;e++){const s=a.pictures.indexOf(p[e]._id);-1!==s&&(a.pictures[s]=p[e])}return a}),l=await Promise.all(w);return i({type:a.SHOW_ORDER,orders:l})},i=t=>async(i,c)=>{e.setDomain(s);const o=await(await e.getOrders({xAccessToken:t})).json();return i({type:a.MERCHANT_ORDERS,orders:o})},c=(t,i)=>async(c,o)=>(e.setDomain(s),await e.acceptOrder({xAccessToken:i,id:t}),c({type:a.SELECT_ORDER})),o=(t,i,c)=>async(o,n)=>(e.setDomain(s),await(await e.placeBid({xAccessToken:c,bid:t,order:i})),o({type:a.PLACE_ORDER,orderId:i})),n=(t,i,c)=>async(o,n)=>(e.setDomain(s),await e.rateOrder({xAccessToken:c,id:t,rate:i}),o({type:a.RATE_ORDER})),r=(t,i)=>async(c,o)=>(e.setDomain(s),await e.startOrder({xAccessToken:i,id:t}),c({type:a.START_ORDER})),d=(t,i)=>async(c,o)=>(e.setDomain(s),await e.finishOrder({xAccessToken:i,id:t}),c({type:a.FINISH_ORDER})),p=(t,i)=>async(c,o)=>(e.setDomain(s),await e.cancelOrder({xAccessToken:i,id:t}),c({type:a.CANCEL_ORDER}));export{i as a,p as b,n as c,d,t as e,c as f,r as g,o as h};